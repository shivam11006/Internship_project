# Database Configuration (PostgreSQL)
spring.datasource.url=jdbc:postgresql://localhost:5432/legal_aid_db
spring.datasource.driverClassName=org.postgresql.Driver
spring.datasource.username=postgres
spring.datasource.password=1234

# JPA Configuration
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true

# PostgreSQL specific settings
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# JWT Configuration
jwt.secret=GxgXf6g1qkwyZ8Qb0rQ6pP8p1dLJH7cF4sWmYxJ9u2E=

# Access token expiration (in milliseconds)
# 3600000 ms = 1 hour
jwt.expiration=3600000

# Refresh token expiration (in milliseconds)
# 86400000 ms = 1 day
jwt.refresh-expiration=86400000

# File Upload Limits
spring.servlet.multipart.max-file-size=20MB
spring.servlet.multipart.max-request-size=20MB
# Jackson limit for large JSON payloads
spring.jackson.serialization.fail-on-empty-beans=false

# Spring Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics,env,loggers
management.endpoints.web.base-path=/api/admin/actuator
management.endpoint.health.show-details=when-authorized
management.endpoint.health.probes.enabled=true
management.health.livenessState.enabled=true
management.health.readinessState.enabled=true
spring.lifecycle.timeout-per-shutdown-phase=30s

# ========================================
# Email Configuration (SMTP for OTP)
# ========================================
# Using Gmail SMTP (create App Password at: https://myaccount.google.com/apppasswords)
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=legalaidmatching50@gmail.com
spring.mail.password=nydqjzrldzvgiwlm
spring.mail.protocol=smtp
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com
spring.mail.default-encoding=UTF-8

# OTP Configuration
otp.expiry.minutes=10
otp.max.attempts=5